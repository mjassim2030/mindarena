{% extends "base.html" %}
{% block content %}
<h1 class="h3 mb-3">{% if object %}Edit{% else %}New{% endif %} Assignment</h1>

<form method="post" novalidate>
  {% csrf_token %}
  {{ form.non_field_errors }}

  <div class="mb-3">
    <label class="form-label" for="{{ form.course.id_for_label }}">Course</label>
    {{ form.course.as_widget }}
    {{ form.course.errors }}
  </div>

  <div class="mb-3">
    <label class="form-label" for="{{ form.quiz.id_for_label }}">Quiz</label>
    {{ form.quiz.as_widget }}
    {{ form.quiz.errors }}
  </div>

  <div class="row g-3">
    <div class="col-md-6">
      <label class="form-label" for="{{ form.open_at.id_for_label }}">Open at</label>
      {{ form.open_at.as_widget(attrs={'type':'datetime-local', 'class':'form-control'}) }}
      {{ form.open_at.errors }}
      <div class="form-text">Local time.</div>
    </div>
    <div class="col-md-6">
      <label class="form-label" for="{{ form.due_at.id_for_label }}">Due at</label>
      {{ form.due_at.as_widget(attrs={'type':'datetime-local', 'class':'form-control'}) }}
      {{ form.due_at.errors }}
      <div class="form-text">Optional.</div>
    </div>
  </div>

  <div class="mb-3 mt-3">
    <label class="form-label" for="{{ form.settings.id_for_label }}">Settings (JSON)</label>
    {{ form.settings.as_widget }}
    {{ form.settings.errors }}
  </div>

  <div class="mt-3 d-flex gap-2">
    <button type="submit" class="btn btn-primary">Save</button>
    <a href="/assignments/" class="btn btn-outline-secondary">Cancel</a>
  </div>
</form>
{% endblock %}
